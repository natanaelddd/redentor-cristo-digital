
<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    
    <!-- Cache Control Headers para resolver problemas do Chrome -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/lovable-uploads/52bb9865-eabf-4a7f-aee6-c64d183500e9.png" type="image/png">
    <title>Igreja Missionária Cristo Redentor - Igreja Evangélica em Ribeirão Preto</title>
    <meta name="description" content="Igreja Missionária Cristo Redentor - Igreja Evangélica em Ribeirão Preto. Cultos de domingo às 19h, estudo bíblico, oração. Uma comunidade de fé comprometida com o amor de Cristo." />
    <meta name="keywords" content="igreja evangélica ribeirão preto, igreja missionária unida ribeirão preto, igreja evangélica, cristo redentor, cultos domingo, estudo bíblico, igreja protestante, comunidade cristã, ribeirão preto SP" />
    <meta name="author" content="Igreja Missionária Cristo Redentor" />
    <meta name="robots" content="index, follow" />
    
    <!-- Geo tags -->
    <meta name="geo.region" content="BR-SP" />
    <meta name="geo.placename" content="Ribeirão Preto" />
    <meta name="geo.position" content="-21.11094928593143;-47.84071708485187" />
    <meta name="ICBM" content="-21.11094928593143, -47.84071708485187" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://5e351b59-1954-4d41-b24d-fd93ac41d51e.lovableproject.com/" />
    <meta property="og:title" content="Igreja Missionária Cristo Redentor - Igreja Evangélica em Ribeirão Preto" />
    <meta property="og:description" content="Igreja Missionária Cristo Redentor - Igreja Evangélica em Ribeirão Preto. Cultos de domingo às 19h, estudo bíblico, oração. Uma comunidade de fé comprometida com o amor de Cristo." />
    <meta property="og:image" content="https://5e351b59-1954-4d41-b24d-fd93ac41d51e.lovableproject.com/lovable-uploads/52bb9865-eabf-4a7f-aee6-c64d183500e9.png" />
    <meta property="og:locale" content="pt_BR" />
    <meta property="og:site_name" content="Igreja Missionária Cristo Redentor" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://5e351b59-1954-4d41-b24d-fd93ac41d51e.lovableproject.com/" />
    <meta property="twitter:title" content="Igreja Missionária Cristo Redentor - Igreja Evangélica em Ribeirão Preto" />
    <meta property="twitter:description" content="Igreja Missionária Cristo Redentor - Igreja Evangélica em Ribeirão Preto. Cultos de domingo às 19h, estudo bíblico, oração. Uma comunidade de fé comprometida com o amor de Cristo." />
    <meta property="twitter:image" content="https://5e351b59-1954-4d41-b24d-fd93ac41d51e.lovableproject.com/lovable-uploads/52bb9865-eabf-4a7f-aee6-c64d183500e9.png" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://5e351b59-1954-4d41-b24d-fd93ac41d51e.lovableproject.com/" />
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Church",
      "name": "Igreja Missionária Cristo Redentor",
      "description": "Igreja Evangélica em Ribeirão Preto comprometida com o amor de Cristo",
      "url": "https://5e351b59-1954-4d41-b24d-fd93ac41d51e.lovableproject.com/",
      "telephone": "+55-16-XXXX-XXXX",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Av. Pedro Abrahão Alem Neto, 520",
        "addressLocality": "Ribeirão Preto",
        "addressRegion": "SP",
        "postalCode": "14063-145",
        "addressCountry": "BR"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": -21.11094928593143,
        "longitude": -47.84071708485187
      },
      "openingHours": [
        "Su 19:00-21:00",
        "We 20:00-21:30",
        "Fr 20:00-21:30"
      ],
      "sameAs": [
        "https://www.facebook.com/igrejamissionariacristoredentor",
        "https://www.instagram.com/igrejamissionariacristoredentor"
      ]
    }
    </script>
  </head>

  <body>
    <!-- Performance & Cache Script -->
    <script>
      // Sistema robusto de detecção e correção de problemas de cache
      (function() {
        'use strict';
        
        const CACHE_VERSION = '1.0.1';
        const PERFORMANCE_THRESHOLD = 3000; // 3 segundos
        
        function clearProblematicCache() {
          try {
            // Limpar localStorage problemático
            const keysToRemove = [];
            for (let i = 0; i < localStorage.length; i++) {
              const key = localStorage.key(i);
              if (key && (localStorage.getItem(key) === 'undefined' || localStorage.getItem(key) === null)) {
                keysToRemove.push(key);
              }
            }
            keysToRemove.forEach(key => localStorage.removeItem(key));
            
            // Marcar versão do cache
            localStorage.setItem('cache_version', CACHE_VERSION);
            
            console.log('Cache problemático limpo:', keysToRemove.length + ' itens');
            return keysToRemove.length > 0;
          } catch (e) {
            console.warn('Erro ao limpar cache:', e);
            return false;
          }
        }
        
        // Verificar versão do cache ao carregar
        const currentVersion = localStorage.getItem('cache_version');
        if (currentVersion !== CACHE_VERSION) {
          console.log('Nova versão detectada, limpando cache...');
          clearProblematicCache();
        }
        
        // Service Worker cleanup para Chrome
        if ('serviceWorker' in navigator && navigator.userAgent.includes('Chrome')) {
          navigator.serviceWorker.getRegistrations().then(function(registrations) {
            if (registrations.length > 0) {
              console.log('Limpando service workers antigos...');
              registrations.forEach(registration => registration.unregister());
            }
          });
        }
        
        // Auto-detecção de problemas de cache
        window.addEventListener('load', function() {
          // Se a página demorar muito para carregar, sugerir limpeza
          if (performance.now() > PERFORMANCE_THRESHOLD) {
            const lastSlowLoad = localStorage.getItem('last_slow_load');
            const now = Date.now();
            
            if (lastSlowLoad && (now - parseInt(lastSlowLoad)) < 300000) { // 5 minutos
              console.warn('Problemas persistentes de cache detectados');
            } else {
              localStorage.setItem('last_slow_load', now.toString());
            }
          }
        });
      })();
    </script>
    
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
